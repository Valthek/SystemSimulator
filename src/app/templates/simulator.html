<div id="simulator">
  <canvas id="simulatorCanvas" #simulatorCanvas width="900" height="900" style="background:lightgray;" (mousedown)="canvasMouseDown()" (mouseup)="canvasMouseUp"></canvas>
  <input type="checkbox" id="menuToggle" />
  <label class="menuLabel" for="menuToggle">
    <div class="menuLabelContent"></div>
  </label>
  <div id="menu">
    <div id="animationControls">
      <div class="slider">
        <label for="timescale">Time scale: </label><input id="timeScale" type="range" min="1" max="28" [(ngModel)]="simSpeed" /><br/>
      </div>
      <div class="slider">
        <label for="zoom">Zoom: </label><input id="zoom" type="range" min="2" max="300" [(ngModel)]="zoomLevel" />
      </div>
      <form (ngSubmit)="onTimeSubmit()" #timeForm="ngForm">
        <div class="formElement">
          <select class="timeSet" id="dateDay" [(ngModel)]="currentDateD" (click)="lockTime()">
        <option *ngFor="#day of daysList; #i = index" [value]="i">{{day}}</option>
        </select>

          <select class="timeSet" id="dateMonth" [(ngModel)]="currentDateM" (click)="lockTime()">
        <option *ngFor="#month of monthsList; #i = index" [value]="i">{{month}}</option>
      </select>
          <select class="timeSet" id="dateYear" [(ngModel)]="currentDateY" (click)="lockTime()">
          <option *ngFor="#year of yearsList; #i = index" [value]="i">{{year}} AT</option>
        </select>
        </div>
        <div class="formElement">
          <button type="submit" class="formButton">Change Date</button>
          <button type="button" class="formButton" id="play" (click)="togglePlay()">{{playButtonText}}</button><br />
        </div>
      </form>
    </div>
    <div id="travelControls">
      <span>Set travel route</span>
      <form id="travelOptions" (ngSubmit)="calculateTravelOptions()" #travelForm="ngForm">
        <div class="formElement">
          <span>From: </span>
          <select [(ngModel)]="travelSource">
      <option *ngFor="#p of planets" [value]="p.objectID"> {{p.name}}</option>
      </select>
        </div>
        <div class="formElement">
          <span>To: </span>
          <select [(ngModel)]="travelDestination">
      <option *ngFor="#p of planets" [value]="p.objectID"> {{p.name}}</option>
      </select>
        </div>
        <div class="formElement">
          <span>Thrust: </span>
          <input type="text" [(ngModel)]="shipThrustInG" required>
        </div>
        <div class="formElement">
          <button type="submit" class="btn btn-success">Calculate Hohman DeltaV</button>
        </div>
      </form>
    </div>
    <div id="travelCalculationResults">
      <div *ngIf="showResults">
        <span>Travel from {{planets[travelSource].name}} to {{planets[travelDestination].name}} on {{calculationDate[0]}} {{monthsList[calculationDate[1]]}}, {{calculationDate[2]}} AT </span>
        <span class="title">Hohman Maneuver:</span>
        <span>DeltaV required: {{hohmanResults[0]}} km/s</span>
        <span>Insertion Burn at {{planets[travelSource].name}}: {{hohmanResults[1]}}m/s</span>
        <span>Arrival Burn at {{planets[travelDestination].name}}: {{hohmanResults[2]}}m/s</span>
        <span>Travel time: {{hohmanResults[3]}} days</span>
        <span>Next travel window is in {{hohmanResults[5]}} days </span>
        <span>Travel Window opens every {{hohmanResults[4]}} days </span>
        <span class="title">Baristochrone Maneuver for {{shipThrustInG}}G: </span>
        <span>DeltaV required: {{brachistochroneResults[0]}} km/s</span>
        <span>Travel time: {{brachistochroneResults[1]}} days </span>
        <span>Ideal launch time is in {{brachistochroneResults[2]}} days </span>
        <span>DeltaV required at half thrust: {{brachistochroneResults[3]}}km/s</span>
        <span>Travel time: {{brachistochroneResults[4]}} days</span>
        <span>Ideal launch time for half thrust is in {{brachistochroneResults[5]}} days </span>
        <span>DeltaV required at quarter thrust: {{brachistochroneResults[6]}}km/s</span>
        <span>Travel time: {{brachistochroneResults[7]}} days</span>
        <span>Ideal launch time for quarter thrust is in {{brachistochroneResults[5]}} days </span>
        </div>
      </div>
    <div id="directFlight">
      <form id="directFlightOptions" (ngSubmit)="calculateDirectFlight()" #travelForm="ngForm">
        <!-- TBD -->
      </form>
    </div>
  </div>
</div>